<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.16: http://docutils.sourceforge.net/" />
<title>oneAPI Technical Advisory Board Meeting (TAB-AI) Meeting Notes</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="oneapi-technical-advisory-board-meeting-tab-ai-meeting-notes">
<h1 class="title">oneAPI Technical Advisory Board Meeting (TAB-AI) Meeting Notes</h1>

<div class="section" id="id1">
<h1>2021-11-10</h1>
<div class="section" id="agenda">
<h2>Agenda</h2>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<tbody valign="top">
<tr><td>Introduction</td>
<td>Geoff Lowney</td>
</tr>
<tr><td>Unified Runtime</td>
<td>Paul Petersen, Z. Waters, A. Kukanov, T. Smith</td>
</tr>
<tr><td>Distributed Programming</td>
<td>David Ozog, Maria Gazaran, Robert Cohn</td>
</tr>
<tr><td>Domain Specific Libraries</td>
<td>Ilya Burylov</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="attendees">
<h2>Attendees</h2>
<table border="1" class="docutils">
<colgroup>
<col width="45%" />
<col width="55%" />
</colgroup>
<tbody valign="top">
<tr><td>Tian, Xinmin, Intel</td>
<td>Lowney, Geoff, Intel</td>
</tr>
<tr><td>Slavova, Gergana S, Intel</td>
<td>Richards, Alison L</td>
</tr>
<tr><td>Smith, Timmie, Intel</td>
<td>Podogova, Svetlana, Intel</td>
</tr>
<tr><td>Brodman, James, Intel</td>
<td>Ashbaugh, Ben, Intel</td>
</tr>
<tr><td>Lueck, Gregory M, Intel</td>
<td>Garland, Craig, Intel</td>
</tr>
<tr><td>SBaik (Samsung) (게스트)</td>
<td>Burylov, Ilya, Intel</td>
</tr>
<tr><td>Garzaran, Maria, Intel</td>
<td>Sohrab Amirghodsi, Adobe</td>
</tr>
<tr><td>Ozog, David M, Intel</td>
<td>Kawakami, Kentaro/川上 健太, Fujitsu Labs</td>
</tr>
<tr><td>Cohn, Robert S, Intel</td>
<td>Pat Quillen</td>
</tr>
<tr><td>John M (ArrayFire)</td>
<td>Edward Smyth</td>
</tr>
<tr><td>Luo, Ye</td>
<td>Mehdi Goli, Codeplay</td>
</tr>
<tr><td>Tom Deakin, Univ of Bristol</td>
<td>Bharat Agrawal</td>
</tr>
<tr><td>Khanna, Rahul, Intel</td>
<td>Rabotnikov, Mark</td>
</tr>
<tr><td>Knepper, Sarah, Intel</td>
<td>Waters, Zack S, Intel</td>
</tr>
<tr><td>Story, Shane</td>
<td>Kharkov, Egor, Intel</td>
</tr>
<tr><td>Kukanov, Alexey, Intel</td>
<td>Kubarev, Valentin, Intel</td>
</tr>
<tr><td>Pascuzzi, Vincent</td>
<td>Petersen, Paul, Intel</td>
</tr>
<tr><td>Luszczek, Piotr Rafal</td>
<td>Stefan(ArrayFire) (Guest)</td>
</tr>
<tr><td>Schneider, Robert</td>
<td>Ruyman Reyes, Codeplay</td>
</tr>
<tr><td>Pennycook, John</td>
<td>Andrew Lumsdaine (Guest)</td>
</tr>
<tr><td>Arunachalam, Meena, Intel</td>
<td>John Melonakos (Guest)</td>
</tr>
<tr><td>Patty, Spencer, Intel</td>
<td>Reinders, James R, Intel</td>
</tr>
<tr><td>Dolbeau, Romain, SiPearl</td>
<td>Li, Jian Hui, Intel</td>
</tr>
<tr><td>Rahman, Md</td>
<td>Sheng Zha (Guest), AWS MXNET</td>
</tr>
<tr><td>Nevin Liber (Guest), Argonne</td>
<td>Alastair Murray, Codeplay</td>
</tr>
<tr><td>Paul, Sriraj</td>
<td>John M (ArrayFire)</td>
</tr>
<tr><td>Anzt, Hartwig (SCC)</td>
<td>Andrew Richards, Codeplay</td>
</tr>
<tr><td>Shabunin, Maksim</td>
<td>Ronan Keryell (Xilinx) (Guest)</td>
</tr>
<tr><td>Ike, Atsushi/池 敦, Fujitsu</td>
<td>Erik Lindahl (Guest)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="id2">
<h1>2021-12-14</h1>
<p><a class="reference external" href="presentations/cross-tab-2021-12-14.pdf">Slides</a></p>
<ul class="simple">
<li>Adobe only uses native runtime on each platform: Metal or Direct X</li>
<li>Need Vulcan back end support – requires more image processing, which
is missing from oneAPI – prefers to write in oneAPI in C++ vs
GLSL/etc. Needs texture support, image basic support, access to how
a texture is stored (linearly or swizzled, 3D texture or a view on
that with two images, etc)<ul>
<li>Working on imaging support for oneAPI.</li>
<li>AR: Zack to connect with Ilya on image support</li>
</ul>
</li>
<li>Does Level Zero support OpenCL?<ul>
<li>Level Zero provides low level access to GPU and devices, and is
intended to be lower-level than OpenCL. OpenCL is a true citizen.</li>
</ul>
</li>
<li>We are doing a lot of work in SYCL and NVIDIA Backend.  Very
interested in level zero – looked at level zero but it was so low
level compared to CUDA and Hip; Need something higher level to
implement the sycl support and support other platforms above CUDA
and HIP – need other ways to do that; if you think in terms of
SYCL. How would they do that with multiple streams in cuda and or
multiple queues.  A lot of conversations to have a unified RT for
other platforms.<ul>
<li>This is a .1 spec, would like to get additional engagement for
others; in terms of a timeline, is there something we could share?
We need to put the draft on the github – we have the AR to put
that up.  We do intend to have an easy migration path – for other
hw.  Clean up and standardize in the PI layer – we welcome your
feedback as we define.  On the right track w/ the unified RT; one
of the nice things through the adaptors is the ability to expose
the extensions and expose the native platform experiences – if you
need access for CUDA and low-level interfaces or APIs, you could
be able to choose</li>
<li>SYCL for CUDA or for HIP – is the backend to call cublas directly,
very important feature that they need – they are happy to
collaborate on this (Codeplay).</li>
</ul>
</li>
<li>Issues with level zero<ul>
<li>Unified runtime expected to abstract all the backends but they are
more familiar with other APIs.</li>
<li>Thread Safety – SPEC says level zero is not thread safe.  (ZACK – AR
to look at that).  Spec says you can call for multiple threads.  2)</li>
<li>No primary context to allow libraries to interact w/o knowing each
other; user exports (unfriendly for developers).  Need to have a
Level Zero adaptor to unify the behavior w/ other runtimes.  That
is more of his expectation.</li>
<li>Adaptors – where you need divergence, you can access the lower
level platform…  Need to access multiple lower level architectures
– directly allocated from cublas or cuda low level (goes through
the primary context and recognizes each other – independent but
not convenient like that w/ CUDA).  Unified RT is the opportunity
for supporting those explicit constructs.</li>
<li>You can call from multiple threads but you need to be
careful. Can't operate on the same object from multiple threads.
Small clarification: You can't operate on the same object from
multiple threads without synchronization.</li>
<li>Having this TLS magical CUDA state is a limitation for
performance; And it is actually very non-thread safe, just in a
more dangerous and subtle way. It also creates wrong expectation
to users, e.g. CUDA libraries magically working without
initialization! so when you need to interop with native libraries,
you need to explain to users all the magic that CUDA runtime does
and how to replicate it in a portable way</li>
</ul>
</li>
<li>TLS will create more issues than the benefits we will get. It is a
legacy issue in OpenMP now.</li>
<li>But this does not prevent to provide an optional TLS layer for
porting simple use-cases coming from a single-thread world ? Just
that it should not be the default and uninterested folks should not
be performance-impacted from this.</li>
<li>Do people want to program CPU with SYCL?<ul>
<li>Yes</li>
</ul>
</li>
<li>Would resource manager help TBB and NUMA issues on Intel CPUs?<ul>
<li>That is exactly why we are pursuing this.</li>
</ul>
</li>
<li>We need to support both 32 bit (WASM) and 64 bit system. From high
end workstation to iOS/Android devices. So portability and ability
to scale down gracefully is critical for us. Apple platform support
only their own solutions and we have had lots of issues with OpenCL
on random hardware with OpenCL drivers. For cloud computing we have
more flexibility.</li>
<li>MPI could surely benefit from modern C++ bindings....</li>
<li>Do you still rely on free functions in shmem? We are back into our
previous TLS discussion. Perhaps using kernel handler would be more
C++ &amp; SYCL compliant? Of course the syntax would be different, which
is a problem for portability, with kh.shmem.putmem_nbi() for example
instead of ::shmem_putmem_nbi(() –</li>
<li>Do we need to be looking at different extensions?  Do we need this
natively in SYCL?  Ie. Universal Parallel C++ (Paul).  How do we
think about this (not in a library point of view but have this more
integrated w/ SYCL)</li>
<li>For combining MPI and SYCL, have you looked at the Celerity project?
<a class="reference external" href="https://celerity.github.io/">https://celerity.github.io/</a> Celerity · High-level C++ for
Accelerator Clusters High-level C++ for Accelerator Clusters</li>
<li>[Off-topic; Potential Collab] I have yet to see 'XPU' with 'X' ==
'Q'. Something I'm interested in is having a qpu_selector, where
this would use a QC simulator (akin to, e.g., an FPGA simulator) for
Qiskit, cirq, DM-SIM, etc., perhaps via PI interface? Feel free to
reach out.</li>
</ul>
</div>
</div>
</body>
</html>
